<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <url value="https://fhir.nhs.uk/R4/StructureDefinition/DM-MedicationRequest" />
  <name value="DM-MedicationRequest" />
  <status value="draft" />
  <fhirVersion value="4.0.1" />
  <mapping>
    <identity value="workflow" />
    <uri value="http://hl7.org/fhir/workflow" />
    <name value="Workflow Pattern" />
  </mapping>
  <mapping>
    <identity value="script10.6" />
    <uri value="http://ncpdp.org/SCRIPT10_6" />
    <name value="Mapping to NCPDP SCRIPT 10.6" />
  </mapping>
  <mapping>
    <identity value="rim" />
    <uri value="http://hl7.org/v3" />
    <name value="RIM Mapping" />
  </mapping>
  <mapping>
    <identity value="w5" />
    <uri value="http://hl7.org/fhir/fivews" />
    <name value="FiveWs Pattern Mapping" />
  </mapping>
  <mapping>
    <identity value="v2" />
    <uri value="http://hl7.org/v2" />
    <name value="HL7 v2 Mapping" />
  </mapping>
  <kind value="resource" />
  <abstract value="false" />
  <type value="MedicationRequest" />
  <baseDefinition value="https://fhir.nhs.uk/R4/StructureDefinition/UKCore-MedicationRequest" />
  <derivation value="constraint" />
  <differential>
    <element id="MedicationRequest.extension">
      <path value="MedicationRequest.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationRequest.extension:epsPrescriptionType">
      <path value="MedicationRequest.extension" />
      <sliceName value="epsPrescriptionType" />
      <short value="ITK Prescription Type" />
      <comment value="Care Setting and type of prescriber.." />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-prescriptionType" />
      </type>
    </element>
    <element id="MedicationRequest.extension:epsPrescriptionType.value[x].display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.extension.value[x].display" />
    </element>
    <element id="MedicationRequest.extension:repeatInformation">
      <path value="MedicationRequest.extension" />
      <sliceName value="repeatInformation" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-UKCore-MedicationRepeatInformation" />
      </type>
    </element>
    <element id="MedicationRequest.extension:legalAuthenticator">
      <path value="MedicationRequest.extension" />
      <sliceName value="legalAuthenticator" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-DM-LegalAuthenticator" />
      </type>
    </element>
    <element id="MedicationRequest.extension:legalAuthenticator.value[x].identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.extension.value[x].identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.extension:legalAuthenticator.value[x].identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.extension.value[x].identifier.type.text" />
    </element>
    <element id="MedicationRequest.extension:legalAuthenticator.value[x].display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.extension.value[x].display" />
    </element>
    <element id="MedicationRequest.extension:responsiblePractitioner">
      <path value="MedicationRequest.extension" />
      <sliceName value="responsiblePractitioner" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-DM-ResponsiblePractitioner" />
      </type>
    </element>
    <element id="MedicationRequest.extension:responsiblePractitioner.value[x].identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.extension.value[x].identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.extension:responsiblePractitioner.value[x].identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.extension.value[x].identifier.type.text" />
    </element>
    <element id="MedicationRequest.extension:responsiblePractitioner.value[x].display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.extension.value[x].display" />
    </element>
    <element id="MedicationRequest.extension:prescriptionEndorsement">
      <path value="MedicationRequest.extension" />
      <sliceName value="prescriptionEndorsement" />
      <min value="0" />
      <max value="*" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-PrescriptionEndorsement" />
      </type>
    </element>
    <element id="MedicationRequest.identifier">
      <path value="MedicationRequest.identifier" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <rules value="open" />
      </slicing>
      <min value="1" />
    </element>
    <element id="MedicationRequest.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.identifier.assigner.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.identifier.assigner.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.identifier:prescriptionOrderItem">
      <path value="MedicationRequest.identifier" />
      <sliceName value="prescriptionOrderItem" />
      <short value="Prescription Order Item" />
      <definition value="Unique Id of the MedicationRequest within EPS" />
    </element>
    <element id="MedicationRequest.identifier:prescriptionOrderItem.system">
      <path value="MedicationRequest.identifier.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/Id/prescription-order-item-number" />
    </element>
    <element id="MedicationRequest.identifier:prescriptionOrderItem.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.identifier:prescriptionOrderItem.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.identifier:prescriptionOrderItem.assigner.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.identifier.assigner.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.category.coding">
      <path value="MedicationRequest.category.coding" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="system" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationRequest.category.coding:sliceControlledDrug">
      <path value="MedicationRequest.category.coding" />
      <sliceName value="sliceControlledDrug" />
      <max value="1" />
      <binding>
        <strength value="required" />
        <valueSet value="https://fhir.nhs.uk/R4/ValueSet/DM-medicationrequest-controlled-drug" />
      </binding>
    </element>
    <element id="MedicationRequest.category.coding:sliceControlledDrug.system">
      <path value="MedicationRequest.category.coding.system" />
      <fixedUri value="https://fhir.nhs.uk/R4/CodeSystem/medicationrequest-controlled-drug" />
    </element>
    <element id="MedicationRequest.category.coding:sliceCategoryInt">
      <path value="MedicationRequest.category.coding" />
      <sliceName value="sliceCategoryInt" />
      <max value="1" />
      <binding>
        <strength value="required" />
        <valueSet value="https://fhir.nhs.uk/R4/ValueSet/DM-medicationrequest-category" />
      </binding>
    </element>
    <element id="MedicationRequest.category.coding:sliceCategoryInt.system">
      <path value="MedicationRequest.category.coding.system" />
      <fixedUri value="http://terminology.hl7.org/CodeSystem/medicationrequest-category" />
    </element>
    <element id="MedicationRequest.category.coding:sliceCategoryUK">
      <path value="MedicationRequest.category.coding" />
      <sliceName value="sliceCategoryUK" />
      <max value="1" />
      <binding>
        <strength value="required" />
        <valueSet value="https://fhir.nhs.uk/R4/ValueSet/DM-medicationrequest-category" />
      </binding>
    </element>
    <element id="MedicationRequest.category.coding:sliceCategoryUK.system">
      <path value="MedicationRequest.category.coding.system" />
      <fixedUri value="https://fhir.nhs.uk/R4/CodeSystem/medicationrequest-category" />
    </element>
    <element id="MedicationRequest.medication[x]">
      <path value="MedicationRequest.medication[x]" />
      <comment value="Any code from the SnomedCT UK DMD subset for VMP, AMP and VTM concepts" />
      <type>
        <code value="CodeableConcept" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/DM-MedicationCodeableConcept" />
      </type>
      <type>
        <code value="Reference" />
      </type>
    </element>
    <element id="MedicationRequest.subject">
      <path value="MedicationRequest.subject" />
      <type>
        <code value="Reference" />
        <targetProfile value="https://fhir.nhs.uk/R4/StructureDefinition/DM-Patient" />
      </type>
    </element>
    <element id="MedicationRequest.subject.reference">
      <path value="MedicationRequest.subject.reference" />
      <min value="1" />
    </element>
    <element id="MedicationRequest.subject.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.subject.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.subject.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.subject.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.subject.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.subject.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.encounter">
      <path value="MedicationRequest.encounter" />
      <definition value="Encounter is required for secondary care prescriptions." />
      <type>
        <code value="Reference" />
        <targetProfile value="https://fhir.nhs.uk/R4/StructureDefinition/DM-Encounter" />
      </type>
    </element>
    <element id="MedicationRequest.encounter.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.encounter.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.encounter.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.encounter.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.encounter.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.encounter.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.supportingInformation.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.supportingInformation.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.supportingInformation.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.supportingInformation.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.supportingInformation.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.supportingInformation.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.authoredOn">
      <path value="MedicationRequest.authoredOn" />
      <min value="1" />
    </element>
    <element id="MedicationRequest.requester">
      <path value="MedicationRequest.requester" />
      <min value="1" />
      <type>
        <code value="Reference" />
        <targetProfile value="https://fhir.nhs.uk/R4/StructureDefinition/Spine-PractitionerRole" />
      </type>
    </element>
    <element id="MedicationRequest.requester.reference">
      <path value="MedicationRequest.requester.reference" />
      <min value="1" />
    </element>
    <element id="MedicationRequest.requester.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.requester.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.requester.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.requester.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.requester.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.requester.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.requester.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.requester.display" />
      <comment value="The name of the of the issuer must be included in the MedicationRequest (this is for legal reasons)" />
    </element>
    <element id="MedicationRequest.performer.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.performer.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.performer.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.performer.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.performer.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.performer.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.recorder.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.recorder.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.recorder.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.recorder.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.recorder.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.recorder.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.reasonReference.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.reasonReference.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.reasonReference.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.reasonReference.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.reasonReference.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.reasonReference.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.basedOn">
      <path value="MedicationRequest.basedOn" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/ImmunizationRecommendation" />
      </type>
    </element>
    <element id="MedicationRequest.basedOn.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.basedOn.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.basedOn.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.basedOn.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.basedOn.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.basedOn.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.groupIdentifier">
      <path value="MedicationRequest.groupIdentifier" />
      <short value="order number for grouped MedicationRequests" />
      <definition value="The short form prescription identifier" />
      <comment value="ITK HL7v3 Mapping = The groupIdentifier is equivalent to ParentPrescription.id (prescription-order-number). The extension is used to carry the ParentPrescription.id (UUID)." />
      <min value="1" />
    </element>
    <element id="MedicationRequest.groupIdentifier.extension">
      <path value="MedicationRequest.groupIdentifier.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID">
      <path value="MedicationRequest.groupIdentifier.extension" />
      <sliceName value="PrescriptionOrderUUID" />
      <short value="UUID order number for grouped MedciationRequests" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-PrescriptionId" />
      </type>
    </element>
    <element id="MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID.value[x].type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.extension.value[x].type.coding.display" />
    </element>
    <element id="MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID.value[x].type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.extension.value[x].type.text" />
    </element>
    <element id="MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID.value[x].assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.extension.value[x].assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID.value[x].assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.extension.value[x].assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.groupIdentifier.extension:PrescriptionOrderUUID.value[x].assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.extension.value[x].assigner.display" />
    </element>
    <element id="MedicationRequest.groupIdentifier.system">
      <path value="MedicationRequest.groupIdentifier.system" />
      <min value="1" />
      <fixedUri value="https://fhir.nhs.uk/Id/prescription-order-number" />
    </element>
    <element id="MedicationRequest.groupIdentifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.groupIdentifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.groupIdentifier.assigner.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.groupIdentifier.assigner.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.courseOfTherapyType">
      <path value="MedicationRequest.courseOfTherapyType" />
      <comment value="The type of prescription e.g. acute, continuous, etc. Was extension in STU3 https://fhir.hl7.org.uk/STU3/StructureDefinition/Extension-CareConnect-PrescriptionType-1 and Digital Medicine uses international codes, so continuous in place of repeat." />
      <min value="1" />
      <binding>
        <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
          <valueString value="MedicationRequestCourseOfTherapy" />
        </extension>
        <strength value="required" />
        <valueSet value="https://fhir.nhs.uk/R4/ValueSet/DM-medicationrequest-course-of-therapy" />
      </binding>
    </element>
    <element id="MedicationRequest.insurance.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.insurance.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.insurance.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.insurance.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.insurance.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.insurance.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.dosageInstruction.text">
      <path value="MedicationRequest.dosageInstruction.text" />
      <comment value="ITK Mapping = pertinentInformation2.pertinentLineItem.pertinentInformation2.pertinentDosageInstructions.value" />
    </element>
    <element id="MedicationRequest.dispenseRequest.extension">
      <path value="MedicationRequest.dispenseRequest.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationRequest.dispenseRequest.extension:performerSiteType">
      <path value="MedicationRequest.dispenseRequest.extension" />
      <sliceName value="performerSiteType" />
      <short value="type of dispensing organisation" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-performerSiteType" />
      </type>
    </element>
    <element id="MedicationRequest.dispenseRequest.extension:performerSiteType.value[x].display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.dispenseRequest.extension.value[x].display" />
    </element>
    <element id="MedicationRequest.dispenseRequest.extension:controlledDrugWords">
      <path value="MedicationRequest.dispenseRequest.extension" />
      <sliceName value="controlledDrugWords" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="https://fhir.nhs.uk/R4/StructureDefinition/Extension-controlled-drug-quantity-words" />
      </type>
    </element>
    <element id="MedicationRequest.dispenseRequest.performer">
      <path value="MedicationRequest.dispenseRequest.performer" />
      <definition value="Indicates the intended dispensing Pharmacy specified by the patient. Can be sourced from nominatedPharmacy in the Patient Demographics Service (PDS)" />
    </element>
    <element id="MedicationRequest.dispenseRequest.performer.identifier">
      <path value="MedicationRequest.dispenseRequest.performer.identifier" />
      <min value="1" />
    </element>
    <element id="MedicationRequest.dispenseRequest.performer.identifier.system">
      <path value="MedicationRequest.dispenseRequest.performer.identifier.system" />
      <fixedUri value="https://fhir.nhs.uk/Id/ods-organization-code" />
    </element>
    <element id="MedicationRequest.dispenseRequest.performer.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.dispenseRequest.performer.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.dispenseRequest.performer.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.dispenseRequest.performer.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.dispenseRequest.performer.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.dispenseRequest.performer.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.substitution">
      <path value="MedicationRequest.substitution" />
      <definition value="Indicates whether or not substitution can or should be part of the dispense. In some cases, substitution must happen, in other cases substitution must not happen. This block explains the prescriber's intent. If nothing is specified substitution may be done. In most cases this should default to false." />
      <comment value="Substituition is a mandatory requirement for EPS." />
      <min value="1" />
    </element>
    <element id="MedicationRequest.substitution.allowed[x]">
      <path value="MedicationRequest.substitution.allowed[x]" />
      <type>
        <code value="boolean" />
      </type>
    </element>
    <element id="MedicationRequest.priorPrescription.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.priorPrescription.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.priorPrescription.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.priorPrescription.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.priorPrescription.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.priorPrescription.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.detectedIssue.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.detectedIssue.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.detectedIssue.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.detectedIssue.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.detectedIssue.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.detectedIssue.identifier.assigner.display" />
    </element>
    <element id="MedicationRequest.eventHistory">
      <path value="MedicationRequest.eventHistory" />
      <type>
        <code value="Reference" />
        <targetProfile value="https://fhir.nhs.uk/R4/StructureDefinition/DM-Provenance" />
      </type>
    </element>
    <element id="MedicationRequest.eventHistory.identifier.assigner.identifier.type.coding.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.eventHistory.identifier.assigner.identifier.type.coding.display" />
    </element>
    <element id="MedicationRequest.eventHistory.identifier.assigner.identifier.type.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.eventHistory.identifier.assigner.identifier.type.text" />
    </element>
    <element id="MedicationRequest.eventHistory.identifier.assigner.display">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationRequest.eventHistory.identifier.assigner.display" />
    </element>
  </differential>
</StructureDefinition>